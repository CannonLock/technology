# OSG Technology Area Meeting, 31 May 2022

-   **Coordinates:** Conference: +1-415-655-0002, PIN: 146 266 9392,
    <https://morgridge-org.zoom.us/j/91987518094> (password sent separately)
-   **Attending:** BrianL, Mat, TimT, Ziyang

## Announcements

- Mat OOO Jun 13
- BrianL traveling Jun 13-16, OOO Jun 17
- Next week's meeting canceled

### Triage Duty

-   This week: Mat
-   Next week: TimT
-   11 (-4) open FreshDesk tickets
-   1 (+0) open GGUS ticket

### Jira (as of Monday)

| # of tickets | &Delta; | State             |
|--------------|---------|-------------------|
| 191          | +1      | Open              |
| 32           | +1      | Selected for Dev  |
| 27           | +3      | In Progress       |
| 14           | -3      | Dev Complete      |
| 28           | +3      | Ready for Testing |
| 0            | +0      | Ready for Release |

## OSG Software Team

-   Doc focus Friday afternoon
-   JLab FE and VO certs expire next Thursday, Ops may need a reminder to update the certs next week
-   BNL will be submitting EIC jobs via Harvester and will pass along a subject DN that we need added to the `vo-client`
-   Streamline deployments of OSDF caches and origins
    -   AI (Mat): Add topology endpoint serving cache/namespace mappings (SOFTWARE-5179)
    -   AI (Mat): Evaluate state of SLATE stashcache chart (SOFTWARE-5211)
    -   AI (Carl): Add stashcache lookup by resource name (SOFTWARE-4347)
    -   AI (Carl): stash-cache/origin: allow toggling VOMS by environment variable (SOFTWARE-5106)
    -   AI (Carl): authfile generation fails if origin serves no public data (SOFTWARE-5028)
    -   AI (Carl): Authfiles for auth stash origins should include the origin's DN (SOFTWARE-4399)
    -   AI (Carl): Validate OSDF data in Topology (SOFTWARE-4167)
-   AI (Carl): backfill container should shut down upon HTCondor exit (SOFTWARE-4608)
-   AI (Carl): add ability to specify custom workflows in opensciencegrid/images (SOFTWARE-5013)
-   AI (Carl): remove duplicate contact entries in the Topology contact pages (SOFTWARE-5214)

### Discussion

There are several Docker images that are built from individual GitHub repositories instead of the central "images" repository.
They should be moved to the images repo; keep an eye on how well GitHub Actions workflows scale, though.

COManage registration denials seem to be sticky;
if you want to admit someone you have previously denied, you will have to expunge the CO Person record

Sometimes packages get stuck in Ready for Testing state because they are considered "critical" but no external people have provided feedback.
Mat suggests amending our release policy such that critical packages are released after a month without negative feedback, even if no positive feedback has been received.
Tim says that would be better for software that has received VMU testing or has been well tested outside of OSG.
We have an IRIS-HEP deliverable to increase the percentage of packages tested in VMU; Brian will create tickets.

### Support Update

-   JLab (BrianL): JLab and their ScotsGrid site are seeing low CPU utiliziation from Slurm for CLAS12 pilots.
    They will lift the blacklisting of ScotsGrid to try to gather more info
-   Belle II (BrianL): will be having a meeting this week to discuss token-based pilot submission
-   Texas Tech (BrianL): new backfill container site, working on fixing COManage registrations
-   WeNMR (BrianL): helping DIRAC developers test token-based pilot submission
-   BNL (Mat): Experiencing CA failures with XRootD TPC.  Their CA certificates look fine;
    Mat has requested that they perform some manual tests to try and isolate the error.
    The XRootD developers are Cc'ed on the ticket and can provide debugging assistance.


## OSG DevOps

- A few feature requests / bug fixes for StashCP.  One of them ready for pull request: https://github.com/opensciencegrid/stashcp/pull/41
- Shoveler auto-update is working great!  Increased token lifetime on lightweight issuer to 1 hour.
- Did a large pull request for GP-ARGO.  Wondering if we should include the Site Name in the OSG map?  Currently, we show Facility Name, Resource Group, and Resource names.  But we don't show the site level in the map.

### Discussion

None this week

## OSG Release Team

-   Ready for Testing
    -   gratia-probe 2.6.1
        -   Replace AuthToken* references with routed job attributes
        -   Fix mismatched type concatenation in Gratia record send
        -   Gratia: Set SCHEDD_CRON_LOG_NON_ZERO_EXIT = True in the htcondor-ce configuration
        -   Remove certinfo file log messages
    -   HTCondor-CE 5.1.4
        -   Fix whole node job glidein CPUs and GPUs exprs that caused held jobs
        -   Fix bug where default CERequirements were being ignored
        -   Pass whole node request from GlideinWMS to the batch system
        -   Fix rrdtool dependencies to ease OSG 3.5 to 3.6 upgrade
    -   GlideinWMS 3.9.4-3: Fix rrdtool dependencies
    -   rrdtool 1.8.0-1.2-el7: make Python RRDtools available to GlideinWMS
    -   xrootd-multiuser 2.0.4
    -   osg-token-renewer 0.8.2
    -   htvault-config-1.13
    -   htgettoken 1.12
    -   XCache 3.1.0
    -   stashcp 6.7.5
    -   HTCondor 9.0.13
        -   Schedd and startd cron jobs can now log output upon non-zero exit
        -   condor_config_val now produces correct syntax for multi-line values
        -   The condor_run tool now reports submit errors and warnings to the terminal
        -   Fix issue where Kerberos authentication would fail within DAGMan
        -   Fix HTCondor startup failure with certain complex network configurations
    -   Upcoming
        -   HTCondor 9.9.0
            -   A new authentication method for remote HTCondor administration
            -   Several changes to improve the security of connections
            -   Fix issue where DAGMan direct submission failed when using Kerberos
            -   The submission method is now recorded in the job ClassAd
            -   Singularity jobs can now pull from Docker style repositories
            -   The OWNER authorization level has been folded into the ADMINISTRATOR level

### Discussion

Discussed a new policy to promote packages stuck in RFT for a month to RFR as well as improving coordination of testing
between OSG Operations and Software
